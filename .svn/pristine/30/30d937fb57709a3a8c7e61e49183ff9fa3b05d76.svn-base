webpackJsonp([67],{"1i/O":function(e,t){},"2oGy":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(s("Xxa5")),i=r(s("exGp")),n=r(s("CHSj")),o=r(s("mtWM"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={name:"mine02card",data:function(){return{value:"",jobs:["农、林、牧、渔业","采矿业","制造业","电力、热力、燃气及水的生产和供应业","环境和公共设施管理业","建筑业","交通运输、仓储业和邮政业","信息传输、计算机服务和软件业","批发和零售业","住宿、餐饮业","金融、保险业","房地产业","租赁和商务服务业","科学研究、技术服务和地质勘查业","水利、环境和公共设施管理业","居民服务和其他服务业","教育","卫生、社会保障和社会服务业","文化、体育、娱乐业","综合（含投资类、主业不明显）","其它"],jobs_show:!1,change:{mobile:"",yzm:"",password:"",check_pwd:""},modal:{title:"",show:!1,class:"edit-pwd-modal"}}},props:["user"],computed:{user1:function(){return this.user}},components:{modal:n.default},methods:{radio_sex:function(e){this.user1.sex=Number(e)},plus:function(e){var t=e.target.files[0];console.log(t);var s=new FileReader,n=this;s.onloadend=function(){var e=(0,i.default)(a.default.mark(function e(t){var s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.target.result,console.log(s),e.next=4,n.$store.dispatch("minePost",{url:"/common/file/add",data:{file_base64:s}}).then(function(e){console.log("上传",e),4002===e.code&&(n.save_avatar(e.data.filename),n.value="",n.user1.photo=e.data.file_url)}).catch(function(e){n.toast=e});case 4:e.sent;case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),s.readAsDataURL(t)},birth:function(e){this.user1.birthday=e.target.value},get_code:function(){var e=(0,i.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.change).mobile&&this.iphone(t.mobile)){e.next=5;break}this.$message({message:"请输入合法的手机号~",type:"warning"}),e.next=9;break;case 5:return e.next=7,(0,o.default)({method:"post",url:this.$store.state.mineBaseURL+"/api/common/sms/send",data:{mobile:t.mobile,type:2,user_group_id:3}});case 7:0===e.sent.data.code&&this.$message({message:"验证码已发送~",type:"success"});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),change_done:function(){var e=(0,i.default)(a.default.mark(function e(){var t,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.change).mobile&&this.iphone(t.mobile)){e.next=5;break}this.$message({message:"请输入合法的手机号~",type:"warning"}),e.next=22;break;case 5:if(t.yzm){e.next=9;break}this.$message({message:"请填写验证码~",type:"warning"}),e.next=22;break;case 9:if(t.password){e.next=13;break}this.$message({message:"请填写新密码~",type:"warning"}),e.next=22;break;case 13:if(t.check_pwd===t.password){e.next=17;break}this.$message({message:"两次输入的密码不一致~",type:"warning"}),e.next=22;break;case 17:return e.next=19,this.$store.dispatch("minePost",{url:"/app/auth/reset_password",data:t});case 19:s=e.sent,console.log("submit",s.code),0===s.code?(this.$message({message:"密码更改成功~",type:"success"}),this.modal.show=!1,this.change={mobile:this.change.mobile,yzm:"",password:"",check_pwd:""}):this.$message({message:s.message,type:"warning"});case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),save_avatar:function(){var e=(0,i.default)(a.default.mark(function e(t){var s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("minePost",{url:"/app/personal/update_my_info",data:{photo:t}});case 2:0===(s=e.sent).code?(console.log("保存",s),this.$message({message:"保存成功~",type:"success"})):this.$message.error(s.message);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),save:function(){var e=(0,i.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("minePost",{url:"/app/personal/update_my_info",data:this.user1});case 2:0===(t=e.sent).code&&(console.log("保存",t),this.$message({message:"保存成功~",type:"success"}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},mounted:function(){}}},CHSj:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("lcjM"),i=s.n(a);for(var n in a)"default"!==n&&function(e){s.d(t,e,function(){return a[e]})}(n);var o=s("oyLD"),r=s("VU/8")(i.a,o.a,!1,null,null,null);r.options.__file="components\\modal.vue",t.default=r.exports},LILa:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mine-card mine-card-box"},[s("div",{staticClass:"flex-two msg"},[e._m(0),s("div",{staticClass:"text-center flex-1"},[s("div",{staticClass:" avatar-box"},[s("div",{staticClass:"avatar",style:"background-image: url("+e.user1.photo+")"})]),s("div",{staticClass:"position-relative"},[s("input",{staticClass:"position-absolute cursor-pointer up-avatar-input",attrs:{type:"file",accept:"image/*"},domProps:{value:e.value},on:{change:e.plus}}),s("div",{staticClass:"cursor-pointer up-avatar"},[e._v("上传头像")])])]),s("div",{staticClass:"flex-1 msg-box"},[s("label",{attrs:{for:"nick_name"}},[e._v("姓名")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user1.username,expression:"user1.username",modifiers:{trim:!0}}],attrs:{type:"text",id:"nick_name"},domProps:{value:e.user1.username},on:{input:function(t){t.target.composing||e.$set(e.user1,"username",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),s("label",{attrs:{for:"birthday"}},[e._v("生日")]),s("input",{attrs:{type:"date",id:"birthday"},domProps:{value:e.user1.birthday?e.user1.birthday:"1990-01-01"},on:{input:e.birth}}),s("label",{attrs:{for:"tel"}},[e._v("手机号")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user1.mobile,expression:"user1.mobile",modifiers:{trim:!0}}],attrs:{type:"text",id:"tel"},domProps:{value:e.user1.mobile},on:{input:function(t){t.target.composing||e.$set(e.user1,"mobile",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),s("label",{attrs:{for:"pwd"}},[e._v("登录密码")]),s("div",{staticClass:"d-inline-block input-job"},[e._v("* * * * * *")]),s("span",{staticClass:"cursor-pointer edit-pwd",on:{click:function(t){e.modal.show=!0,e.change.mobile=e.user1.mobile}}},[e._v("修改")]),s("label",[e._v("性别")]),s("div",{staticClass:"d-inline-block sex"},[s("div",{staticClass:"d-inline-block cursor-pointer boy-box",on:{click:function(t){e.radio_sex(1)}}},[s("div",{staticClass:"d-inline-block boy",class:{"sex-active":1===e.user1.sex}}),s("span",[e._v("男")])]),s("div",{staticClass:"d-inline-block cursor-pointer girl-box",on:{click:function(t){e.radio_sex(2)}}},[s("div",{staticClass:"d-inline-block girl",class:{"sex-active":2===e.user1.sex}}),s("span",[e._v("女")])])])])]),s("div",{staticClass:"flex-two"},[e._m(1),s("div",{staticClass:"bottom-msg"},[s("div",{staticClass:"flex-1"},[s("label",[e._v("居住地")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user1.address,expression:"user1.address",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:e.user1.address},on:{input:function(t){t.target.composing||e.$set(e.user1,"address",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),s("div",{staticClass:"flex-1"},[s("label",{attrs:{for:"company"}},[e._v("所在公司")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user1.company_name,expression:"user1.company_name",modifiers:{trim:!0}}],attrs:{type:"text",id:"company"},domProps:{value:e.user1.company_name},on:{input:function(t){t.target.composing||e.$set(e.user1,"company_name",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),s("div",{staticClass:"flex-1 position-relative"},[s("label",[e._v("现任职位")]),s("div",{staticClass:"d-inline-block input-job",on:{click:function(t){e.jobs_show=!e.jobs_show}}},[e._v(e._s(e.user1.company_position))]),s("div",{staticClass:"position-absolute select-down",on:{click:function(t){e.jobs_show=!e.jobs_show}}},[e._v("△")]),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.jobs_show,expression:"jobs_show"}],staticClass:"position-absolute jobs-list"},e._l(e.jobs,function(t,a){return s("li",{key:a,on:{click:function(s){e.user1.company_position=t,e.jobs_show=!1}}},[e._v(e._s(t))])}))]),s("div",{staticClass:"flex-1"},[s("label",{attrs:{for:"mail"}},[e._v("常用邮箱")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user1.email,expression:"user1.email",modifiers:{trim:!0}}],attrs:{type:"email",id:"mail"},domProps:{value:e.user1.email},on:{input:function(t){t.target.composing||e.$set(e.user1,"email",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),s("div",{staticClass:"flex-1"},[s("label",{attrs:{for:"qq"}},[e._v("身份证号")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user1.identification_number,expression:"user1.identification_number",modifiers:{trim:!0}}],attrs:{type:"tel",id:"qq"},domProps:{value:e.user1.identification_number},on:{input:function(t){t.target.composing||e.$set(e.user1,"identification_number",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),s("div",{staticClass:"clearfix"}),s("button",{staticClass:"save",on:{click:e.save}},[e._v("保存")])])]),s("modal",{attrs:{data:e.modal}},[s("div",{staticClass:"edit-title"},[s("div",{staticClass:"text-center edit-title-text"},[s("img",{attrs:{src:"/images/common/edit_pwd.png",alt:""}}),s("div",{staticClass:"d-inline-block",staticStyle:{"margin-left":"10px"}},[e._v("修改密码")])])]),s("div",{staticClass:"position-relative"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.change.mobile,expression:"change.mobile",modifiers:{trim:!0}}],staticClass:"edit-input",attrs:{type:"tel",placeholder:"请输入手机号"},domProps:{value:e.change.mobile},on:{input:function(t){t.target.composing||e.$set(e.change,"mobile",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),s("img",{attrs:{src:"/images/common/tel.png",alt:""}})]),s("div",{staticClass:"position-relative"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.change.yzm,expression:"change.yzm",modifiers:{trim:!0}}],staticClass:"edit-input code",attrs:{type:"text",placeholder:"请输入短信验证码"},domProps:{value:e.change.yzm},on:{input:function(t){t.target.composing||e.$set(e.change,"yzm",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),s("img",{attrs:{src:"/images/common/code.png",alt:""}}),s("div",{staticClass:"position-absolute cursor-pointer get-code",on:{click:e.get_code}},[s("span",{staticStyle:{color:"#999"}},[e._v("|")]),e._v("  获取验证码")])]),s("div",{staticClass:"position-relative"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.change.password,expression:"change.password",modifiers:{trim:!0}}],staticClass:"edit-input",attrs:{type:"password",placeholder:"设置新密码"},domProps:{value:e.change.password},on:{input:function(t){t.target.composing||e.$set(e.change,"password",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),s("img",{attrs:{src:"/images/common/password.png",alt:""}})]),s("div",{staticClass:"position-relative"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.change.check_pwd,expression:"change.check_pwd",modifiers:{trim:!0}}],staticClass:"edit-input",attrs:{type:"password",placeholder:"再次输入新密码"},domProps:{value:e.change.check_pwd},on:{input:function(t){t.target.composing||e.$set(e.change,"check_pwd",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),s("img",{attrs:{src:"/images/common/password.png",alt:""}})]),s("button",{staticClass:"done",on:{click:e.change_done}},[e._v("完成")])])],1)};a._withStripped=!0;var i={render:a,staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mine-title base-title"},[t("div",{staticClass:"h-title"},[this._v("基本资料")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mine-title"},[t("div",{staticClass:"h-title"},[this._v("完善资料")])])}]};t.a=i},ZZEU:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("2oGy"),i=s.n(a);for(var n in a)"default"!==n&&function(e){s.d(t,e,function(){return a[e]})}(n);var o=s("LILa"),r=!1;var c=function(e){r||s("1i/O")},l=s("VU/8")(i.a,o.a,!1,c,"data-v-4c835e6b",null);l.options.__file="pages\\mine\\mine\\mine02card.vue",t.default=l.exports},lcjM:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"modal",props:["data"],data:function(){return{}},watch:{show:function(e){document.getElementsByTagName("body")[0].className=e?"modal-open":""}},computed:{show:function(){return this.$props.data.show}},methods:{hide:function(){this.data.show=!1}},mounted:function(){}}},oyLD:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{staticClass:"position-fixed modal modal-component"},[e.show?s("div",{staticClass:"modal-con",class:e.data.class},[s("div",{staticClass:"clearfix modal-header"},[s("img",{staticClass:"modal-close",attrs:{src:"/images/common/close.png",alt:"关闭"},on:{click:e.hide}}),e.data.title?s("div",{staticClass:"modal-title"},[e._v(e._s(e.data.title))]):e._e()]),e.data.title?s("div",{staticClass:"modal-line"}):e._e(),s("div",{staticClass:"modal-content"},[e._t("default")],2)]):e._e()]):e._e()};a._withStripped=!0;var i={render:a,staticRenderFns:[]};t.a=i}});