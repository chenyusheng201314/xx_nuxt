webpackJsonp([25],{"+PmM":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(n("Xxa5")),a=o(n("exGp"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"admin_head",data:function(){return{addInfo:{},rules:{old_password:[{required:!0,message:"必填",trigger:"blur"}],password:[{required:!0,message:"必填",trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"},{pattern:/^[0-9a-zA-Z\d]+$/,message:"由6-16位数字或这字母组成"}]},now_nav:"",dialogResetVisible:!1,companyInfo:{company_logo:{value:""},company_name:""}}},computed:{getNav:function(){return this.$store.state.admin.now_nav}},create:function(){var e=(0,a.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{check:function(e){e=String(e);var t=this.$data.menus;for(var n in t)t[n].active=!1,e===n&&(t[n].active=!0)},cancelReset:function(){this.dialogResetVisible=!1},resetPW:function(){this.dialogResetVisible=!0,this.addInfo={}},submitReset:function(){var e=(0,a.default)(s.default.mark(function e(){var t,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"/company/company_user/change_password",data:this.addInfo},e.next=3,this.$store.dispatch("companyHttpPost",t);case 3:if(0!=(n=e.sent).code){e.next=11;break}return this.$message({message:"密码修改成功",type:"success"}),e.next=8,this.$store.dispatch("company_logout");case 8:this.$router.push({path:"/"}),e.next=12;break;case 11:this.$message.error("密码修改失败，"+n.message);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),user_logout:function(){var e=(0,a.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("company_logout");case 2:this.$router.push({path:"/"});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),router_link:function(){this.$router.push({path:"/company_manage/"})}},beforeRouteEnter:function(e,t,n){n(function(e){e.$root._router.history.current.fullPath;console.log("rou")})},watch:{"this.$route":function(){},getNav:function(e){this.now_nav=e}},mounted:function(){var e=(0,a.default)(s.default.mark(function e(){var t,n;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.$root._router.history.current.fullPath.split("/"),this.now_nav=this.$store.state.admin.now_nav,t={url:"/company/company/company_info",data:{}},e.next=5,this.$store.dispatch("companyHttpGet",t);case 5:n=e.sent,this.companyInfo=n.data;case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},"0o82":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("wvyg"),a=n.n(s);for(var o in s)"default"!==o&&function(e){n.d(t,e,function(){return s[e]})}(o);var i=n("4OUu"),r=!1;var c=function(e){r||n("WgW+")},l=n("VU/8")(a.a,i.a,!1,c,null,null);l.options.__file="components\\companyManage\\LeftNav.vue",t.default=l.exports},"4OUu":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"left_nav"},[n("ul",e._l(e.navInfo,function(t,s){return t.isShow?n("li",{key:s,class:t.isSelected?"el-submenu is-opened":"el-submenu",on:{click:function(t){e.navChoose(s)}}},[n("div",{staticClass:"el-submenu__title"},[n("i",{staticClass:"iconfont",domProps:{innerHTML:e._s(t.icon)}}),n("span",[e._v(e._s(t.title))])]),n("ul",e._l(t.sonNav,function(t,a){return t.isShow?n("li",{key:a,class:t.isSelected?"el-menu-item is-active":"el-menu-item",on:{click:function(t){e.navSonChoose(s,a)}}},[n("nuxt-link",{attrs:{to:t.url}},[e._v(e._s(t.title))])],1):e._e()}))]):e._e()}))])};s._withStripped=!0;var a={render:s,staticRenderFns:[]};t.a=a},"9ALK":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"admin_foot"}},CkpL:function(e,t,n){"use strict";var s=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"admin_main"},[t("Head"),t("LeftNav"),t("nuxt"),t("Foot")],1)};s._withStripped=!0;var a={render:s,staticRenderFns:[]};t.a=a},EiP9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(n("rpeB")),a=i(n("zr7w")),o=i(n("0o82"));function i(e){return e&&e.__esModule?e:{default:e}}t.default={middleware:"company",head:function(){return{title:"欢迎登录享学就学运营中心",meta:[{hid:"description",name:"description",content:"123"}],link:[{href:"/css/bootstrap.css",type:"text/css",rel:"stylesheet"},{href:"/company_manage/css/css.css",type:"text/css",rel:"stylesheet"},{href:"/element/index.css",type:"text/css",rel:"stylesheet"}],script:[{src:"/js/jquery.min.js"}]}},name:"admin",components:{Head:s.default,Foot:a.default,LeftNav:o.default},beforeRouteEnter:function(e,t,n){},mounted:function(){},watch:{"$store.state.company.isLogin":{handler:function(e,t){t&&this.$router.push({path:"/"})},immediate:!0}}}},FUuj:function(e,t,n){"use strict";var s=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"admin_foot",attrs:{id:"foot"}},[this._v("\n   Copyright © 2017-2027 XIANGXUE 享学（深圳）科技有限公司 粤ICP备17065259号-1\n")])};s._withStripped=!0;var a={render:s,staticRenderFns:[]};t.a=a},"WgW+":function(e,t){},"mhF+":function(e,t){},"nA+h":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("EiP9"),a=n.n(s);for(var o in s)"default"!==o&&function(e){n.d(t,e,function(){return s[e]})}(o);var i=n("CkpL"),r=n("VU/8")(a.a,i.a,!1,null,null,null);r.options.__file="layouts\\companyManage.vue",t.default=r.exports},rpeB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("+PmM"),a=n.n(s);for(var o in s)"default"!==o&&function(e){n.d(t,e,function(){return s[e]})}(o);var i=n("xjRm"),r=!1;var c=function(e){r||n("mhF+")},l=n("VU/8")(a.a,i.a,!1,c,"data-v-71b52d22",null);l.options.__file="components\\companyManage\\head.vue",t.default=l.exports},wvyg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){var e=[{title:"企业管理",icon:"&#xe600;",sonNav:[{title:"企业信息",url:"/company_manage/",isShow:!0,isSelected:!1},{title:"员工账号",url:"/company_manage/account/",isShow:!0,isSelected:!1},{title:"角色管理",url:"/company_manage/role/",isShow:!0,isSelected:!1}],isShow:!0,isSelected:!1},{title:"学员管理",icon:"&#xe602;",sonNav:[{title:"公司学员",url:"/company_manage/member/",isShow:!0,isSelected:!1}],isShow:!0,isSelected:!1},{title:"课程管理",icon:"&#xe613;",sonNav:[{title:"视频库",url:"/company_manage/video",isShow:!0,isSelected:!1},{title:"课程管理",url:"/company_manage/course",isShow:!0,isSelected:!1}],isShow:!0,isSelected:!1},{title:"训练营管理",icon:"&#xe7de;",sonNav:[{title:"训练营",url:"/company_manage/training/",isShow:!0,isSelected:!1},{title:"班级管理",url:"/company_manage/training/classManage/",isShow:!0,isSelected:!1}],isShow:!0,isSelected:!1}],t=this.$store.state.company.companyRole.data;return e[0].sonNav[1].isShow=this.comssr.adminCheckRole(t,"company_user","list"),e[0].sonNav[2].isShow=this.comssr.adminCheckRole(t,"acl","role_list"),e[1].isShow=e[1].sonNav[0].isShow=this.comssr.adminCheckRole(t,"company_person","list"),e[2].sonNav[0].isShow=this.comssr.adminCheckRole(t,"company_video","video_list"),e[2].sonNav[1].isShow=this.comssr.adminCheckRole(t,"course","company_course_list")||this.comssr.adminCheckRole(t,"course","company_buy_course_list"),e[2].isShow=e[2].sonNav[0].isShow||e[2].sonNav[1].isShow,e[3].sonNav[0].isShow=this.comssr.adminCheckRole(t,"training","training_list")||this.comssr.adminCheckRole(t,"training","training_buy_list"),e[3].sonNav[1].isShow=this.comssr.adminCheckRole(t,"training_class","training_class_list"),e[3].isShow=e[3].sonNav[0].isShow||e[3].sonNav[1].isShow,{navInfo:e}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},navChoose:function(e){for(var t in this.navInfo)this.navInfo[t].isSelected=t==e},navSonChoose:function(e,t){for(var n in this.navInfo)for(var s in this.navInfo[n].sonNav)n==e&&s==t?(this.navInfo[n].isSelected=!0,this.navInfo[n].sonNav[s].isSelected=!0,this.$router.push({path:this.navInfo[n].sonNav[s].url})):(this.navInfo[n].isSelected=!1,this.navInfo[n].sonNav[s].isSelected=!1)},setMeau:function(){}},mounted:function(){},created:function(){for(var e in this.navInfo)for(var t in this.navInfo[e].isSelected=!1,this.navInfo[e].sonNav)this.navInfo[e].sonNav[t].isSelected=!1,this.navInfo[e].sonNav[t].url==this.$route.path&&(this.navInfo[e].isSelected=!0,this.navInfo[e].sonNav[t].isSelected=!0,0==this.navInfo[e].sonNav[t].isShow&&(this.$router.push({path:"/company_manage/"}),this.navInfo[0].isSelected=!0,this.navInfo[0].sonNav[0].isSelected=!0))}}},xjRm:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"admin_head"},[n("div",{staticClass:"admin_logo",staticStyle:{cursor:"pointer"},on:{click:e.router_link}},[n("img",{staticClass:"logo",attrs:{src:"/admin/images/user/header.jpg",alt:""}}),e._v("\n    享学就学运营中心\n  ")]),n("ul",{staticClass:"admin_head_manage"},[n("li",[e.companyInfo.company_logo?n("img",{staticClass:"header",attrs:{src:""!==e.companyInfo.company_logo.value?e.companyInfo.company_logo.value:"/admin/images/user/header.jpg",alt:""}}):e._e(),n("span",{staticClass:"f-18 col-nor"},[e._v(e._s(e.companyInfo.company_name))])]),n("li",[e._v("|")]),n("li",{on:{click:e.resetPW}},[n("img",{attrs:{src:"/admin/images/icon-pwd.png",alt:""}}),n("span",{staticClass:"f-16  cur-point"},[e._v("修改密码")])]),n("li",[n("img",{attrs:{src:"/admin/images/icon-exit.png",alt:""}}),n("span",{staticClass:"f-16 cur-point",on:{click:e.user_logout}},[e._v("退出登录")])])]),e.dialogResetVisible?n("el-dialog",{attrs:{title:"修改密码",visible:e.dialogResetVisible,width:"40%"},on:{"update:visible":function(t){e.dialogResetVisible=t}}},[n("el-form",{ref:"addInfo",staticStyle:{"margin-top":"40px"},attrs:{model:e.addInfo,rules:e.rules}},[n("el-form-item",{attrs:{label:"用户名","label-width":"120px"}},[n("el-input",{attrs:{disabled:!0,"auto-complete":"off"},model:{value:e.$store.state.company.companyUsername,callback:function(t){e.$set(e.$store.state.company,"companyUsername",t)},expression:"$store.state.company.companyUsername"}})],1),n("el-form-item",{attrs:{label:"原密码","label-width":"120px",prop:"old_password"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addInfo.old_password,callback:function(t){e.$set(e.addInfo,"old_password",t)},expression:"addInfo.old_password"}})],1),n("el-form-item",{attrs:{label:"新密码","label-width":"120px",prop:"password"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addInfo.password,callback:function(t){e.$set(e.addInfo,"password",t)},expression:"addInfo.password"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer",align:"center"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitReset()}}},[e._v("确 定")])],1)],1):e._e()],1)};s._withStripped=!0;var a={render:s,staticRenderFns:[]};t.a=a},zr7w:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("9ALK"),a=n.n(s);for(var o in s)"default"!==o&&function(e){n.d(t,e,function(){return s[e]})}(o);var i=n("FUuj"),r=n("VU/8")(a.a,i.a,!1,null,null,null);r.options.__file="components\\companyManage\\foot.vue",t.default=r.exports}});