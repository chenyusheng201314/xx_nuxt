webpackJsonp([54],{"+8SJ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("NUlo"),s=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);var r=a("nZ8K"),o=!1;var c=function(e){o||a("dIzS")},l=a("VU/8")(s.a,r.a,!1,c,"data-v-5925f63a",null);l.options.__file="pages\\admin\\pc\\setting.vue",t.default=l.exports},"5zde":function(e,t,a){a("zQR9"),a("qyJz"),e.exports=a("FeBl").Array.from},Gu7T:function(e,t,a){"use strict";t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a("c/Tr"));t.default=function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return(0,n.default)(e)}},NUlo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a("mvHQ")),s=o(a("Gu7T")),i=o(a("Xxa5")),r=o(a("exGp"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"setting",data:function(){return{now_banner:""}},asyncData:function(){var e=(0,r.default)(i.default.mark(function e(t){var a,n,s,r,o,c,l,d,u=t.store;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={url:"/manage/ad/list",data:{type:1}},e.next=3,u.dispatch("adminHttpGet",a);case 3:return n=e.sent,s={url:"/manage/ad/list",data:{type:2}},e.next=7,u.dispatch("adminHttpGet",s);case 7:return 0===(r=e.sent).code&&r.data.forEach(function(e,t){e.order_num=t}),o={url:"/manage/ad/list",data:{type:3}},e.next=12,u.dispatch("adminHttpGet",o);case 12:return c=e.sent,l={url:"/manage/ad/list",data:{type:4}},e.next=16,u.dispatch("adminHttpGet",l);case 16:return d=e.sent,e.abrupt("return",{top_ad:n.data[0],banner:r.data,jp_ad:c.data[0],bottom_ad:d.data[0]});case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),methods:{to_up:function(e){var t;(t=this.banner).splice.apply(t,[e-1,1].concat((0,s.default)(this.banner.splice(e,1,this.banner[e-1]))))},to_down:function(e){var t;(t=this.banner).splice.apply(t,[e,1].concat((0,s.default)(this.banner.splice(e+1,1,this.banner[e]))))},add_banner:function(){if(this.banner.length<6){this.banner.push({image:{name:"",value:" /admin/images/class/add-pic.png"},link:"",name:"",order_num:""})}else this.$message.error("最多只能添加6条")},detele:function(e){this.banner.splice(e,1)},up_before:function(e){var t="image/jpeg"===e.type||"image/gif"===e.type||"image/png"===e.type;return t||this.$message.error("上传头像图片只能是 JPG,png,gif 格式!"),t},top_success:function(e,t){(new Image).src=t.url,this.$set(this.top_ad.image,"name",t.response.data.filename),this.$set(this.top_ad.image,"value",t.response.data.file_url)},banner_success:function(e,t){(new Image).src=t.url,this.$set(this.banner[this.now_banner].image,"name",t.response.data.filename),this.$set(this.banner[this.now_banner].image,"value",t.response.data.file_url)},jp_success:function(e,t){(new Image).src=t.url,this.$set(this.jp_ad.image,"name",t.response.data.filename),this.$set(this.jp_ad.image,"value",t.response.data.file_url)},bottom_success:function(e,t){(new Image).src=t.url,this.$set(this.bottom_ad.image,"name",t.response.data.filename),this.$set(this.bottom_ad.image,"value",t.response.data.file_url)},get_ind:function(e){console.log("qqq",e),this.now_banner=e},top_save:function(){var e=(0,r.default)(i.default.mark(function e(){var t,a,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=this).top_ad.image.name){e.next=5;break}t.$message.error("请先上传图片!"),e.next=15;break;case 5:if(""===t.top_ad.name||""===t.top_ad.link){e.next=14;break}return a={name:t.top_ad.name,image:t.top_ad.image.name,order_num:t.top_ad.order_num,link:t.top_ad.link},s={url:"/manage/ad/add",data:{type:1,data:(0,n.default)(a)}},e.next=10,t.$store.dispatch("adminHttpPost",s);case 10:0===e.sent.code&&t.$message({type:"success",message:"保存成功!"}),e.next=15;break;case 14:t.$message.error("请填写完整信息!");case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),banner_save:function(){var e=(0,r.default)(i.default.mark(function e(){var t,a,s,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=0,s=[],(t=this).banner.forEach(function(e,t){if(""!==e.image.name&&""!==e.name&&""!==e.link){a+=0;var n={image:e.image.name,name:e.name,link:e.link,order_num:e.order_num};s.push(n)}else a++}),0===a){e.next=7;break}t.$message.error("请填写信息完整!"),e.next=12;break;case 7:return r={url:"/manage/ad/add",data:{type:2,data:(0,n.default)(s)}},e.next=10,t.$store.dispatch("adminHttpPost",r);case 10:0===e.sent.code&&t.$message({type:"success",message:"保存成功!"});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),jp_save:function(){var e=(0,r.default)(i.default.mark(function e(){var t,a,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=this).jp_ad.image.name){e.next=5;break}t.$message.error("请先上传图片!"),e.next=15;break;case 5:if(""===t.jp_ad.name||""===t.jp_ad.link){e.next=14;break}return a={name:t.jp_ad.name,image:t.jp_ad.image.name,order_num:t.jp_ad.order_num,link:t.jp_ad.link},s={url:"/manage/ad/add",data:{type:3,data:(0,n.default)(a)}},e.next=10,t.$store.dispatch("adminHttpPost",s);case 10:0===e.sent.code&&t.$message({type:"success",message:"保存成功!"}),e.next=15;break;case 14:t.$message.error("请填写完整信息!");case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),bottom_save:function(){var e=(0,r.default)(i.default.mark(function e(){var t,a,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=this).bottom_ad.image.name){e.next=5;break}t.$message.error("请先上传图片!"),e.next=15;break;case 5:if(""===t.bottom_ad.name||""===t.bottom_ad.link){e.next=14;break}return a={name:t.bottom_ad.name,image:t.bottom_ad.image.name,order_num:t.bottom_ad.order_num,link:t.bottom_ad.link},s={url:"/manage/ad/add",data:{type:4,data:(0,n.default)(a)}},e.next=10,t.$store.dispatch("adminHttpPost",s);case 10:0===e.sent.code&&t.$message({type:"success",message:"保存成功!"}),e.next=15;break;case 14:t.$message.error("请填写完整信息!");case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{banner:function(){this.banner.forEach(function(e,t){e.order_num=t}),console.log(this.banner)}},mounted:function(){},head:function(){return{title:"官网管理",link:[{href:"/admin/css/setting.css",type:"text/css",rel:"stylesheet"}]}}}},"c/Tr":function(e,t,a){e.exports={default:a("5zde"),__esModule:!0}},dIzS:function(e,t){},fBQ2:function(e,t,a){"use strict";var n=a("evD5"),s=a("X8DO");e.exports=function(e,t,a){t in e?n.f(e,t,s(0,a)):e[t]=a}},nZ8K:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"admin-setting"},[a("h2",[e._v("官网首页配置")]),a("div",{staticClass:"setting-con"},[a("p",{staticClass:"con-tit"},[e._v("顶部广告")]),a("div",{staticClass:"con-con"},[a("div",{staticClass:"con-con-l"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$store.state.admin.fileAddUrl,headers:{token:e.$store.state.admin.token},"show-file-list":!1,"on-success":e.top_success,"before-upload":e.up_before}},[a("img",{staticClass:"img1",attrs:{src:e.top_ad.image.value}})]),a("p",{staticClass:"con-sm"},[e._v("尺寸 1332*668px")])],1),a("div",{staticClass:"con-con-r"},[a("p",{staticClass:"con-list"},[a("span",[e._v("链接：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.top_ad.link,expression:"top_ad.link"}],attrs:{type:"text",maxlength:"100",placeholder:"请输入URL链接"},domProps:{value:e.top_ad.link},on:{input:function(t){t.target.composing||e.$set(e.top_ad,"link",t.target.value)}}})]),a("p",{staticClass:"con-list"},[a("span",[e._v("备注：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.top_ad.name,expression:"top_ad.name"}],attrs:{type:"text",maxlength:"10",placeholder:"备注不会显示在前端"},domProps:{value:e.top_ad.name},on:{input:function(t){t.target.composing||e.$set(e.top_ad,"name",t.target.value)}}})]),a("span",{staticClass:"setting-save",on:{click:e.top_save}},[e._v("保存")])])])]),a("div",{staticClass:"setting-con"},[a("p",{staticClass:"con-tit"},[a("b",[e._v("banner")]),a("span",{staticClass:"banner-save bannner-btn",on:{click:e.banner_save}},[e._v("保存")]),a("span",{staticClass:"bannner-btn",class:{banner_add:e.banner.length<6,no_add:e.banner.length>=6},on:{click:e.add_banner}},[e._v("添加banner")])]),e._l(e.banner,function(t,n){return a("div",{key:n,staticClass:"con-con"},[a("div",{staticClass:"con-con-l banner-l"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$store.state.admin.fileAddUrl,headers:{token:e.$store.state.admin.token},"show-file-list":!1,"on-success":e.banner_success,"before-upload":e.up_before}},[a("img",{staticClass:"img2",attrs:{src:t.image.value},on:{click:function(t){e.get_ind(n)}}})]),a("p",{staticClass:"con-sm"},[e._v("尺寸 1332*668px")])],1),a("div",{staticClass:"con-con-r"},[a("p",{staticClass:"con-list"},[a("span",[e._v("链接：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.link,expression:"item.link"}],attrs:{type:"text",maxlength:"100",placeholder:"请输入URL链接"},domProps:{value:t.link},on:{input:function(a){a.target.composing||e.$set(t,"link",a.target.value)}}})]),a("p",{staticClass:"con-list"},[a("span",[e._v("备注：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"item.name"}],attrs:{type:"text",maxlength:"10",placeholder:"备注不会显示在前端"},domProps:{value:t.name},on:{input:function(a){a.target.composing||e.$set(t,"name",a.target.value)}}})]),a("div",{staticClass:"img-r"},[a("img",{attrs:{src:"/admin/images/pc/delete.png",alt:""},on:{click:function(t){e.detele(n)}}}),a("img",{directives:[{name:"show",rawName:"v-show",value:0!==n,expression:"index !== 0"}],class:{m_r_60:n===e.banner.length-1},attrs:{src:"/admin/images/pc/up.png",alt:""},on:{click:function(t){e.to_up(n)}}}),a("img",{directives:[{name:"show",rawName:"v-show",value:n!==e.banner.length-1,expression:"index !== (banner.length - 1)"}],class:{m_r_60:0===n},attrs:{src:"/admin/images/pc/down.png",alt:""},on:{click:function(t){e.to_down(n)}}})])])])})],2),a("div",{staticClass:"setting-con"},[a("p",{staticClass:"con-tit"},[e._v("精品课程广告")]),a("div",{staticClass:"con-con"},[a("div",{staticClass:"con-con-l jp-l"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$store.state.admin.fileAddUrl,headers:{token:e.$store.state.admin.token},"show-file-list":!1,"on-success":e.jp_success,"before-upload":e.up_before}},[a("img",{staticClass:"img3",attrs:{src:e.jp_ad.image.value}})]),a("p",{staticClass:"con-sm"},[e._v("尺寸 1332*668px")])],1),a("div",{staticClass:"con-con-r"},[a("p",{staticClass:"con-list"},[a("span",[e._v("链接：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.jp_ad.link,expression:"jp_ad.link"}],attrs:{type:"text",maxlength:"100",placeholder:"请输入URL链接"},domProps:{value:e.jp_ad.link},on:{input:function(t){t.target.composing||e.$set(e.jp_ad,"link",t.target.value)}}})]),a("p",{staticClass:"con-list"},[a("span",[e._v("备注：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.jp_ad.name,expression:"jp_ad.name"}],attrs:{type:"text",maxlength:"10",placeholder:"备注不会显示在前端"},domProps:{value:e.jp_ad.name},on:{input:function(t){t.target.composing||e.$set(e.jp_ad,"name",t.target.value)}}})]),a("span",{staticClass:"setting-save",on:{click:e.jp_save}},[e._v("保存")])])])]),a("div",{staticClass:"setting-con"},[a("p",{staticClass:"con-tit"},[e._v("底部广告")]),a("div",{staticClass:"con-con"},[a("div",{staticClass:"con-con-l"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$store.state.admin.fileAddUrl,headers:{token:e.$store.state.admin.token},"show-file-list":!1,"on-success":e.bottom_success,"before-upload":e.up_before}},[a("img",{staticClass:"img1",attrs:{src:e.bottom_ad.image.value}})]),a("p",{staticClass:"con-sm"},[e._v("尺寸 1332*668px")])],1),a("div",{staticClass:"con-con-r"},[a("p",{staticClass:"con-list"},[a("span",[e._v("链接：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.bottom_ad.link,expression:"bottom_ad.link"}],attrs:{type:"text",maxlength:"100",placeholder:"请输入URL链接"},domProps:{value:e.bottom_ad.link},on:{input:function(t){t.target.composing||e.$set(e.bottom_ad,"link",t.target.value)}}})]),a("p",{staticClass:"con-list"},[a("span",[e._v("备注：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.bottom_ad.name,expression:"bottom_ad.name"}],attrs:{type:"text",maxlength:"10",placeholder:"备注不会显示在前端"},domProps:{value:e.bottom_ad.name},on:{input:function(t){t.target.composing||e.$set(e.bottom_ad,"name",t.target.value)}}})]),a("span",{staticClass:"setting-save",on:{click:e.bottom_save}},[e._v("保存")])])])])])])};n._withStripped=!0;var s={render:n,staticRenderFns:[]};t.a=s},qyJz:function(e,t,a){"use strict";var n=a("+ZMJ"),s=a("kM2E"),i=a("sB3e"),r=a("msXi"),o=a("Mhyx"),c=a("QRG4"),l=a("fBQ2"),d=a("3fs2");s(s.S+s.F*!a("dY0y")(function(e){Array.from(e)}),"Array",{from:function(e){var t,a,s,u,p=i(e),m="function"==typeof this?this:Array,f=arguments.length,v=f>1?arguments[1]:void 0,_=void 0!==v,g=0,h=d(p);if(_&&(v=n(v,f>2?arguments[2]:void 0,2)),void 0==h||m==Array&&o(h))for(a=new m(t=c(p.length));t>g;g++)l(a,g,_?v(p[g],g):p[g]);else for(u=h.call(p),a=new m;!(s=u.next()).done;g++)l(a,g,_?r(u,v,[s.value,g],!0):s.value);return a.length=g,a}})}});