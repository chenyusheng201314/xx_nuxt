webpackJsonp([62],{"0Otl":function(t,e){},H8Uz:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left_nav"},[n("ul",t._l(t.data,function(e,a){return n("li",{key:a,class:{active:e.active},on:{click:function(e){t.nav_choose(a)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}))])};a._withStripped=!0;var i={render:a,staticRenderFns:[]};e.a=i},SjQ3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("aVnJ"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var o=n("yRiq"),r=!1;var c=function(t){r||n("0Otl")},d=n("VU/8")(i.a,o.a,!1,c,"data-v-32768387",null);d.options.__file="pages\\admin\\promotion\\document.vue",e.default=d.exports},aVnJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(n("Xxa5")),i=r(n("exGp")),s=r(n("cJuq")),o=r(n("mtWM"));function r(t){return t&&t.__esModule?t:{default:t}}e.default={layout:"admin",name:"document",components:{leftNav:s.default},data:function(){return{leftNav:[{name:"最新上架",link:"/admin/promotion/",active:!1},{name:"精品课程",link:"/admin/promotion/boutique",active:!1},{name:"特价课程",link:"/admin/promotion/special",active:!1},{name:"积分购",link:"/admin/promotion/integral",active:!1},{name:"买一赠一",link:"/admin/promotion/present",active:!1},{name:"免费专区",link:"/admin/promotion/free",active:!1},{name:"课程赠送文案",link:"/admin/promotion/document",active:!0}],txt:"",fullscreenLoading:!1}},asyncData:function(){var t=(0,i.default)(a.default.mark(function t(e){var n,i,s=e.store;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={url:"/manage/course_activity/given_words_list"},t.next=3,s.dispatch("adminHttpGet",n);case 3:return i=t.sent,t.abrupt("return",{document_list:i.data});case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),methods:{get_list:function(){var t=(0,i.default)(a.default.mark(function t(){var e,n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fullscreenLoading=!0,e={url:"/manage/course_activity/given_words_list"},t.next=4,this.$store.dispatch("adminHttpGet",e);case 4:(n=t.sent)&&(this.fullscreenLoading=!1),this.document_list=n.data;case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),get_id:function(t){this.txt=t},change_txt:function(t,e,n){var a=this,i=this;if(!this.comsys.adminCheckRole(this.$store.state.admin.adminRole.data,"course_activity","given_words_save"))return this.$message({message:"警告，您无此权限",type:"warning"}),!1;""===e?(i.$message.error("不能为空"),i.document_list[n].words=i.txt):e!==i.txt&&""!==e&&(0,o.default)({method:"post",url:"/manage/course_activity/given_words_save",baseURL:i.$store.state.admin.baseUrl,headers:{token:i.$store.state.admin.token},data:{id:t,words:e}}).then(function(t){console.log(t),0===t.data.code&&(a.$message({message:"修改成功!",type:"success"}),i.get_list())}).catch(function(t){console.log(t)})},add_list:function(){if(!this.comsys.adminCheckRole(this.$store.state.admin.adminRole.data,"course_activity","given_words_save"))return this.$message({message:"警告，您无此权限",type:"warning"}),!1;this.document_list.length>20?this.$message({type:"error",message:"最多只能添加20条!"}):this.document_list.unshift({id:"",words:""})},delete_one:function(t){var e=this;if(!this.comsys.adminCheckRole(this.$store.state.admin.adminRole.data,"course_activity","given_words_del"))return this.$message({message:"警告，您无此权限",type:"warning"}),!1;console.log(t),(0,o.default)({method:"post",url:"/manage/course_activity/given_words_del",baseURL:this.$store.state.admin.baseUrl,headers:{token:this.$store.state.admin.token},data:{id:t}}).then(function(t){0===t.data.code&&(e.$message({type:"success",message:"删除成功!"}),e.get_list())}).catch(function(t){console.log(t)})}},head:function(){return{title:"促销活动",link:[{href:"/admin/css/promotion.css",type:"text/css",rel:"stylesheet"}]}}}},cJuq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("niWl"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);var o=n("H8Uz"),r=!1;var c=function(t){r||n("cdzv")},d=n("VU/8")(i.a,o.a,!1,c,null,null);d.options.__file="components\\admin\\LeftNav.vue",e.default=d.exports},cdzv:function(t,e){},niWl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"leftNav",props:["data"],data:function(){return{}},methods:{nav_choose:function(t){var e=this;$.each(e.data,function(n,a){n===t?(a.active=!0,console.log(a.name),e.$store.commit("setNav",a.name)):a.active=!1}),this.$router.push({path:e.data[t].link})}},mounted:function(){for(var t in this.data)this.data[t].link==this.$route.path?(this.data[t].active=!0,this.$store.commit("setNav",this.data[t].name)):this.data[t].active=!1},watch:{data:function(t){for(var e in this.data)this.data[e].link==this.$route.path?(this.data[e].active=!0,this.$store.commit("setNav",this.data[e].name)):this.data[e].active=!1}}}},yRiq:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"promotion"},[n("h2",[t._v("\n      课程赠送文案\n      "),n("span",{staticClass:"add_list",on:{click:t.add_list}},[t._v("添加")])]),n("ul",{staticClass:"document-list"},t._l(t.document_list,function(e,a){return n("li",{key:a},[n("span",{staticClass:"delete-one",on:{click:function(n){t.delete_one(e.id)}}},[n("img",{attrs:{src:"/admin/images/promotion/delete-one.png",alt:""}})]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.words,expression:"item.words"}],attrs:{maxlength:"50"},domProps:{value:e.words},on:{focus:function(n){t.get_id(e.words)},blur:function(n){t.change_txt(e.id,e.words,a)},input:function(n){n.target.composing||t.$set(e,"words",n.target.value)}}})])}))])])};a._withStripped=!0;var i={render:a,staticRenderFns:[]};e.a=i}});